{"remainingRequest":"/home/alexzhang/front-end/hr/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alexzhang/front-end/hr/src/components/UserInfo.vue?vue&type=style&index=0&id=04a5d2c9&scoped=true&lang=css&","dependencies":[{"path":"/home/alexzhang/front-end/hr/src/components/UserInfo.vue","mtime":1635222867755},{"path":"/home/alexzhang/front-end/hr/node_modules/css-loader/dist/cjs.js","mtime":1633065919785},{"path":"/home/alexzhang/front-end/hr/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1633065922563},{"path":"/home/alexzhang/front-end/hr/node_modules/postcss-loader/src/index.js","mtime":1633065922386},{"path":"/home/alexzhang/front-end/hr/node_modules/cache-loader/dist/cjs.js","mtime":1633065834894},{"path":"/home/alexzhang/front-end/hr/node_modules/vue-loader/lib/index.js","mtime":1633065922563}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpoMXsKICBmb250LXNpemU6IDMwcHg7CiAgY29sb3I6ICMzMzM7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1hcmdpbjogMCBhdXRvOwogIHBhZGRpbmctYm90dG9tOiA1cHg7CiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM0MDlFRkY7CiAgd2lkdGg6IDMwMHB4Cn0K"},{"version":3,"sources":["UserInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserInfo.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"info\">\n    <h1>用户信息管理界面</h1>\n    <el-row>\n      <el-col :span=\"20\" :push='2'>\n        <div>\n          <el-form :inline=\"true\">\n            <el-form-item style=\"float: left\" label=\"查询用户信息:\">\n              <el-input v-model=\"keyUser\" placeholder=\"查询所需要的内容......\"></el-input>\n            </el-form-item>\n            <el-form-item style=\"float: right\">\n              <el-button type=\"primary\" size=\"small\" icon=\"el-icon-edit-outline\" @click=\"hanldeAdd()\">添加</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n        <div class=\"table\">\n          <el-table\n              :data=\"searchUserinfo(keyUser)\"\n              border\n              style=\"width: 100%\">\n            <el-table-column\n                type=\"index\"\n                label=\"序号\"\n                align=\"center\"\n                width=\"60\">\n            </el-table-column>\n            <el-table-column\n                label=\"日期\"\n                align=\"center\"\n                width=\"120\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.date | moment}}</span>\n              </template>\n            </el-table-column>\n            <el-table-column\n                label=\"姓名\"\n                align=\"center\"\n                width=\"100\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.name }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column\n                label=\"邮箱\"\n                align=\"center\"\n                width=\"160\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.email }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column\n                label=\"手机号\"\n                align=\"center\"\n                width=\"160\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.title }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column\n                label=\"评价\"\n                align=\"center\"\n                width=\"200\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.evaluate }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column\n                label=\"打分\"\n                align=\"center\"\n                width=\"160\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.state }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" fixed=\"right\">\n              <template slot-scope=\"scope\">\n                <el-button\n                    size=\"mini\"\n                    @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n                <el-button\n                    size=\"mini\"\n                    type=\"danger\"\n                    @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n      </el-col>\n    </el-row>\n    <AddUser :dialogAdd=\"dialogAdd\" @update=\"getUserInfo\"></AddUser>\n    <EditUser :dialogEdit=\"dialogEdit\" :form=\"form\" @updateEdit=\"getUserInfo\"></EditUser>\n  </div>\n</template>\n\n<script>\nimport AddUser from './AddUser'\nimport EditUser from './EditUser'\nexport default {\n  name: 'info',\n  data () {\n    return {\n      tableData:[],\n      dialogEdit:{\n        show:false,\n      },\n      dialogAdd:{\n        show:false\n      },\n      keyUser:\"\",\n      form:{    //编辑信息\n        date:'',\n        name:'',\n        email:'',\n        title:'',\n        evaluate:'',\n        state:''\n      },\n    }\n  },\n  methods:{\n    getUserInfo() {\n      this.$axios.get('http://localhost:3000/data').then(res => {\n        this.$store.state.sum=res.data.length\n        this.tableData = res.data\n      })\n    },\n    hanldeAdd(){  //添加\n      this.dialogAdd.show = true;\n    },\n    handleEdit(index,row){  //编辑\n      this.dialogEdit.show = true; //显示弹\n      this.form = {\n        date:row.date,\n        name:row.name,\n        email:row.email,\n        title:row.title,\n        evaluate:row.evaluate,\n        state:row.state,\n        id:row.id\n      }\n      console.log(row)\n    },\n    handleDelete(index,row) {\n      this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n\n        this.$axios.delete(`http://localhost:3000/data/${row.id}`).then(res =>{\n          console.log(res)\n          this.$message({\n            type:\"success\",\n            message:\"删除信息成功\"\n          })\n          this.getUserInfo()    //删除数据，更新视图\n        })\n\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    searchUserinfo(keyUser) {\n      return this.tableData.filter((user) => {\n        if(user.name.includes(keyUser)) {\n          return user\n        }\n      })\n    }\n  },\n  created(){\n    this.getUserInfo()\n  },\n  components:{\n    AddUser,\n    EditUser\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1{\n  font-size: 30px;\n  color: #333;\n  text-align: center;\n  margin: 0 auto;\n  padding-bottom: 5px;\n  border-bottom: 2px solid #409EFF;\n  width: 300px\n}\n</style>\n"]}]}